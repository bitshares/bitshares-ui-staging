"use strict";(this.webpackChunkBitShares2_light=this.webpackChunkBitShares2_light||[]).push([[214],{36210:(e,t,s)=>{s.r(t),s.d(t,{default:()=>qe});var n=s(67294),a=s(112),r=s.n(a),l=s(43393),o=s.n(l),i=s(23037),c=s(82267),m=s(30806),d=s(21019),p=s(58074),u=s.n(p),h=s(80314),g=s(89449),b=s(55294),E=s(39014),k=s(94184),f=s.n(k),v=s(5977),y=s(76660),_=s(70981),x=s(13973);s(88464);class w extends n.Component{static propTypes={witness:i.Z.ChainAccount.isRequired};_onRowClick(e){e.preventDefault(),this.props.history.push(`/account/${this.props.witness.get("name")}`)}render(){let{witness:e,isCurrent:t,rank:s}=this.props,a=m.ChainStore.getWitnessById(this.props.witness.get("id"));if(!a)return null;a.get("total_votes");let r=a.get("last_aslot"),l={};l=this.props.most_recent-r>100?{borderLeft:"1px solid #FCAB53"}:{borderLeft:"1px solid #50D2C2"};let o=new Date(Date.now()-(this.props.most_recent-r)*m.ChainStore.getObject("2.0.0").getIn(["parameters","block_interval"])*1e3),i=t?"active-witness":"",c=a.get("total_missed"),p=f()("txtlabel",{success:c<=500},{info:c>500&&c<=1250},{warning:c>1250&&c<=2e3},{error:c>=200});return n.createElement("tr",{className:i,onClick:this._onRowClick.bind(this)},n.createElement("td",null,s),n.createElement("td",{style:l},e.get("name")),n.createElement("td",null,n.createElement(h.Z,{time:new Date(o)})),n.createElement("td",null,a.get("last_confirmed_block_num")),n.createElement("td",{className:p},c),n.createElement("td",null,n.createElement(d.Z,{amount:a.get("total_votes"),asset:"1.3.0",decimalOffset:5})))}}w=(0,c.Z)(w),w=(0,v.EN)(w);class C extends n.Component{static propTypes={witnesses:i.Z.ChainObjectsList.isRequired};constructor(){super(),this.state={sortBy:"rank",inverseSort:!0},this.handleBlockIdClick=this.handleBlockIdClick.bind(this)}_setSort(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}handleBlockIdClick(e){return()=>{this.props.history.push(`/block/${e}`)}}render(){let{witnesses:e,current:t,cardView:s,witnessList:a}=this.props,{sortBy:r,inverseSort:l}=this.state,o=0,i={};e.filter((e=>!!e&&-1!==a.indexOf(e.get("id")))).sort(((e,t)=>{if(e&&t)return parseInt(t.get("total_votes"),10)-parseInt(e.get("total_votes"),10)})).forEach(((e,t)=>{if(e){let s=e.get("last_aslot");o<s&&(o=s),i[e.get("id")]=t+1}}));let c=[];e.length>0&&e[1]&&(c=e.filter((e=>{if(!e)return!1;let t=m.ChainStore.getObject(e.get("witness_account"));if(!t)return!1;if(!m.ChainStore.getWitnessById(t.get("id")))return!1;let s=t.get("name");return!!s&&-1!==s.indexOf(this.props.filter)})).map((e=>{const t=m.ChainStore.getObject(e.get("witness_account")),s=m.ChainStore.getWitnessById(t.get("id"));let n=s.get("last_aslot"),a=new Date(Date.now()-(this.props.current_aslot-n)*m.ChainStore.getObject("2.0.0").getIn(["parameters","block_interval"])*1e3);return{id:e.get("id"),key:t.get("name"),rank:i[e.get("id")],name:t.get("name"),signing_key:s.get("signing_key"),url:x.Z.sanitize(s.get("url")),lastConfirmedBlock:{id:s.get("last_confirmed_block_num"),timestamp:a.getTime()},blocksMissed:s.get("total_missed"),votes:s.get("total_votes")}})));const p=[{key:"#",title:"#",dataIndex:"rank",sorter:(e,t)=>e.rank>t.rank?1:e.rank<t.rank?-1:0},{key:"name",title:"NAME",dataIndex:"name",sorter:(e,t)=>e.name>t.name?1:e.name<t.name?-1:0},{key:"url",title:"URL",dataIndex:"url",align:"center",render:e=>n.createElement("div",{style:{width:"100%",textAlign:"center"}},e&&(e=>/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(e))(e)&&(e=>n.createElement(y.Popover,{content:n.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e),trigger:"hover"},n.createElement(y.Icon,{type:"link"})))(e)||null)},{key:"lastConfirmedBlock",title:"LAST CONFIRMED BLOCK",dataIndex:"lastConfirmedBlock",render:e=>n.createElement("span",null,n.createElement("a",{style:{display:"inline-block",minWidth:"100px"},href:"javascript:void(0)",onClick:this.handleBlockIdClick(e.id)},"#",Number(e.id).toLocaleString())," ",n.createElement(h.Z,{time:new Date(e.timestamp)})),sorter:(e,t)=>e.lastConfirmedBlock.timestamp>t.lastConfirmedBlock.timestamp?-1:e.lastConfirmedBlock.timestamp<t.lastConfirmedBlock.timestamp?1:0},{key:"blocksMissed",title:"BLOCKS MISSED",dataIndex:"blocksMissed",render:e=>{const t=f()("txtlabel",{success:e<=500},{info:e>500&&e<=1250},{warning:e>1250&&e<=2e3},{error:e>=200});return n.createElement("span",{className:t},e)},sorter:(e,t)=>e.blocksMissed>t.blocksMissed?1:e.blocksMissed<t.blocksMissed?-1:0},{key:"votes",title:"VOTES",dataIndex:"votes",render:e=>n.createElement(d.Z,{amount:e,asset:"1.3.0",decimalOffset:5}),sorter:(e,t)=>e.votes>t.votes?1:e.votes<t.votes?-1:0},{key:"key",title:"KEY",dataIndex:"signing_key",align:"center",render:e=>n.createElement("div",{style:{textAlign:"center",width:"100%"}},(e=>n.createElement(y.Popover,{content:n.createElement("span",null,e),trigger:"hover"},n.createElement(y.Icon,{type:"key"})))(e))}];return n.createElement(y.Table,{rowClassName:e=>e.id===t?"active-witness":"",columns:p,dataSource:c,pagination:!1})}}C=(0,c.Z)(C,{show_loader:!0}),C=(0,v.EN)(C);class S extends n.Component{static propTypes={globalObject:i.Z.ChainObject.isRequired,dynGlobalObject:i.Z.ChainObject.isRequired};static defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0"};constructor(e){super(e),this.state={filterWitness:e.filterWitness||"",cardView:e.cardView}}_onFilter(e){this.setState({filterWitness:e.target.value.toLowerCase()}),b.Z.changeViewSetting({filterWitness:e.target.value.toLowerCase()})}_toggleView(){b.Z.changeViewSetting({cardView:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}render(){let{dynGlobalObject:e,globalObject:t}=this.props;e=e.toJS(),t=t.toJS();let s=m.ChainStore.getObject(e.current_witness),a=null;return s&&(a=m.ChainStore.getObject(s.get("witness_account"))),n.createElement("div",{className:"grid-block"},n.createElement("div",{className:"grid-block"},n.createElement("div",{className:"grid-block"},n.createElement("div",{className:"grid-content "},n.createElement("div",{className:"explore-witness--info"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,n.createElement(u(),{content:"explorer.witnesses.current"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.blocks.active_witnesses"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.witnesses.participation"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.witnesses.pay"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.witnesses.budget"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.witnesses.next_vote"})))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,a?a.get("name"):null),n.createElement("td",null,Object.keys(t.active_witnesses).length),n.createElement("td",null,e.participation,"%"),n.createElement("td",null,n.createElement(d.Z,{amount:t.parameters.witness_pay_per_block,asset:"1.3.0"})),n.createElement("td",null," ",n.createElement(d.Z,{amount:e.witness_budget,asset:"1.3.0"})),n.createElement("td",null," ",n.createElement(h.Z,{time:new Date(e.next_maintenance_time+"Z")})))))),n.createElement(_.Z,{placeholder:r().translate("explorer.witnesses.filter_by_name"),value:this.state.filterWitness,onChange:this._onFilter.bind(this),style:{width:"200px",marginBottom:"12px",marginTop:"4px"}}),n.createElement(C,{current_aslot:e.current_aslot,current:s?s.get("id"):null,witnesses:o().List(t.active_witnesses),witnessList:t.active_witnesses,filter:this.state.filterWitness,cardView:this.state.cardView})))))}}S=(0,c.Z)(S);class Z extends n.Component{render(){return n.createElement(S,this.props)}}const N=Z=(0,g.$)(Z,{listenTo:()=>[E.Z],getProps:()=>({cardView:E.Z.getState().viewSettings.get("cardView"),filterWitness:E.Z.getState().viewSettings.get("filterWitness")})});class O extends n.Component{static propTypes={committee_members:i.Z.ChainObjectsList.isRequired};constructor(){super()}render(){let{committee_members:e,membersList:t}=this.props,s=null,a={};e.filter((e=>!!e&&-1!==t.indexOf(e.get("id")))).forEach(((e,t)=>{e&&(a[e.get("id")]=t+1)})),e.length>0&&e[1]&&(s=e.filter((e=>{if(!e)return!1;let t=m.ChainStore.getObject(e.get("committee_member_account"));return!!t&&!!m.ChainStore.getCommitteeMemberById(t.get("id"))&&-1!==t.get("name").indexOf(this.props.filter||"")})).map((e=>{let t=m.ChainStore.getObject(e.get("committee_member_account")),s=m.ChainStore.getCommitteeMemberById(t.get("id"));return{key:e.get("id"),rank:a[e.get("id")],name:t.get("name"),votes:s.get("total_votes"),url:x.Z.sanitize(s.get("url"))}})));const r=[{key:"#",title:"#",dataIndex:"rank",sorter:(e,t)=>e.rank>t.rank?1:e.rank<t.rank?-1:0},{key:"name",title:"NAME",dataIndex:"name",sorter:(e,t)=>e.name>t.name?1:e.name<t.name?-1:0},{key:"votes",title:"VOTES",dataIndex:"votes",render:e=>n.createElement(d.Z,{amount:e,asset:"1.3.0",decimalOffset:5}),sorter:(e,t)=>e.votes>t.votes?1:e.votes<t.votes?-1:0},{key:"url",title:"WEBPAGE",dataIndex:"url",render:e=>n.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e)}];return n.createElement(y.Table,{columns:r,dataSource:s,pagination:!1})}}O=(0,c.Z)(O,{show_loader:!0});class A extends n.Component{static propTypes={globalObject:i.Z.ChainObject.isRequired};static defaultProps={globalObject:"2.0.0"};constructor(e){super(e),this.state={filterCommitteeMember:e.filterCommitteeMember||""}}shouldComponentUpdate(e,t){return!o().is(e.globalObject,this.props.globalObject)||t.filterCommitteeMember!==this.state.filterCommitteeMember||t.cardView!==this.state.cardView}_onFilter(e){this.setState({filterCommitteeMember:e.target.value.toLowerCase()}),b.Z.changeViewSetting({filterCommitteeMember:e.target.value.toLowerCase()})}render(){let{globalObject:e}=this.props;e=e.toJS();let t=[];for(let s in e.active_committee_members)e.active_committee_members.hasOwnProperty(s)&&t.push(e.active_committee_members[s]);return n.createElement("div",{className:"grid-block"},n.createElement("div",{className:"grid-block vertical medium-horizontal"},n.createElement("div",{className:"grid-block vertical"},n.createElement("div",{className:"grid-content"},n.createElement(_.Z,{placeholder:r().translate("explorer.witnesses.filter_by_name"),value:this.state.filterCommitteeMember,onChange:this._onFilter.bind(this),style:{width:"200px",marginBottom:"12px",marginTop:"4px"}}),n.createElement(O,{filter:this.state.filterCommitteeMember,committee_members:o().List(e.active_committee_members),membersList:e.active_committee_members})))))}}A=(0,c.Z)(A);class B extends n.Component{render(){return n.createElement(A,this.props)}}const T=B=(0,g.$)(B,{listenTo:()=>[E.Z],getProps:()=>({cardView:E.Z.getState().viewSettings.get("cardViewCommittee"),filterCommitteeMember:E.Z.getState().viewSettings.get("filterCommitteeMember")})});var I=s(59851),j=s(21660),D=s(41220);const{operations:L}=m.ChainTypes;let P=Object.keys(L),U={general:[0,25,26,27,28,32,33,37,39,41,49,50,52,69,70,71,72,73],asset:[10,11,12,13,14,15,16,17,18,19,38,43,44,47,48],market:[1,2,3,4,45,46],account:[5,6,7,8,9],business:[20,21,22,23,24,29,30,31,34,35,36]},F=[5,7,20,21,34];class M extends n.Component{static propTypes={globalObject:i.Z.ChainObject.isRequired};static defaultProps={globalObject:"2.0.0"};constructor(e){super(e)}shouldComponentUpdate(e){return!o().is(e.globalObject,this.props.globalObject)}render(){let{globalObject:e,settings:t,opIds:s,title:a}=this.props;e=e.toJS();const l=m.ChainStore.getAsset("1.3.0");let o=e.parameters.current_fees,i=e.parameters.network_percent_of_fee/1e4,c=o.scale,p=o.parameters,h=t.get("fee_asset")||l.get("symbol"),g=r().translate("transaction.trxTypes"),b=s.map((e=>{let t=p.findIndex((t=>t[0]===e));if(-1===t)return void console.warn("Asking for non-existing fee id %d! Check group settings in Fees.jsx",e);let s=p[t],a=s[0],l=s[1],o=P[a],m=g[o],u=i;10===a&&(u=.5+.5*i);let b=[],E=!1,k=f()("label","info");for(let e in l){let s=l[e]*c/1e4,o=s*u,i=r().translate("transaction.feeTypes"),p=s?n.createElement(d.Z,{amount:s,asset:"1.3.0"}):i._none,g=s?n.createElement(D.il,{fromAsset:"1.3.0",fullPrecision:!0,amount:s,toAsset:h,fullDecimals:!0}):i._none,f=o?n.createElement(d.Z,{amount:o,asset:"1.3.0"}):i._none,v=o?n.createElement(D.il,{fromAsset:"1.3.0",fullPrecision:!0,amount:o,toAsset:h,fullDecimals:!0}):i._none,y=null;E||(E=!0,y=n.createElement("td",{rowSpan:"6",style:{width:"15em"}},n.createElement("span",{className:k},m))),F.indexOf(a)<0?"Annual Membership"!=i[e]&&b.push(n.createElement("tr",{key:a.toString()+e},y,n.createElement("td",null,i[e]),n.createElement("td",{style:{textAlign:"right"}},p,0!==s&&"BTS"!==h?n.createElement("span",null," / ",g):null),n.createElement("td",{style:{textAlign:"right"}},8!==t?f:null,8!==t&&0!==s&&"BTS"!==h?n.createElement("span",null," / ",v):null))):b.push(n.createElement("tr",{key:a.toString()+e},y,n.createElement("td",null,i[e]),n.createElement("td",{style:{textAlign:"right"}},"- ",n.createElement("sup",null,"*")),n.createElement("td",{style:{textAlign:"right"}},f,0!==s&&"BTS"!==h?n.createElement("span",null," / ",v):null)))}return n.createElement("tbody",{key:t},b)}));return n.createElement("div",{className:"asset-card"},n.createElement(y.Card,null,this.props.title.toUpperCase()),n.createElement("table",{className:"table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,n.createElement(u(),{content:"explorer.block.op"})),n.createElement("th",null,n.createElement(u(),{content:"explorer.fees.type"})),n.createElement("th",{style:{textAlign:"right"}},n.createElement(u(),{content:"explorer.fees.fee"})),n.createElement("th",{style:{textAlign:"right"}},n.createElement(u(),{content:"explorer.fees.feeltm"})))),b))}}M=(0,c.Z)(M);class R extends n.Component{render(){let e=r().translate("transaction.feeGroups"),t=[];for(let s in U){let a=e[s],r=U[s];t.push(n.createElement(M,{key:s,settings:this.props.settings,opIds:r,title:a}))}return n.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},n.createElement("div",{className:"grid-block small-12 shrink",style:{overflow:"visible"}},n.createElement(j.Z,{path:"components/Fees"})),n.createElement("div",{className:"grid-block small-12 ",style:{overflow:"visible"}},n.createElement("div",{className:"grid-content"},t)))}}const z=R;class W extends n.Component{render(){return n.createElement(I.Z,{stores:[E.Z],inject:{settings:E.Z.getState().settings}},n.createElement(z,this.props))}}const H=W;var V=s(38216),q=s(73727),$=s(72034),G=s(62254),K=s(79060),J=s(19305),X=s(52521),Y=s(10920),Q=s.n(Y);class ee extends n.Component{shouldComponentUpdate(e){if(e.blocks.size<20)return!1;let t=this.refs.trx_chart?this.refs.trx_chart.chart:null;if(t&&e.blocks!==this.props.blocks){let{trxData:s,colors:n}=this._getData(e),a=t.series[0],r=a.xData[a.xData.length-1];if(a.xData.length)return s.forEach((e=>{e[0]>r&&a.addPoint(e,!1,a.xData.length>=30)})),t.options.plotOptions.column.colors=n,t.redraw(),!1}return e.blocks!==this.props.blocks||e.head_block!==this.props.head_block}_getData(e){let{blocks:t,head_block:s}=e,n=[],a=0;return n=t.filter((e=>e.id>=s-30)).sort(((e,t)=>e.id-t.id)).takeLast(30).map((e=>(a=Math.max(e.transactions.length,a),[e.id,e.transactions.length]))).toArray(),{colors:n.map((e=>e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869")),trxData:n,max:a}}render(){let{trxData:e,colors:t,max:s}=this._getData(this.props),a=r().translate("explorer.blocks.transactions"),l={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return a+": "+this.y}},series:[{name:"Transactions",data:e,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,max:Math.max(1.5,s+.5),title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:5,colorByPoint:!0,colors:t,borderWidth:0}}};return e.length?n.createElement(Q(),{ref:"trx_chart",config:l}):null}}const te=ee;var se=s(47855),ne=s(99651);class ae extends n.Component{shouldComponentUpdate(e){if(e.blockTimes.length<19)return!1;if(0===this.props.blockTimes.length)return!0;let t=this.refs.chart?this.refs.chart.chart:null;if(t){let{blockTimes:s,colors:n}=this._getData(e),a=t.series[0],r=a.xData[a.xData.length-1];if(a.xData.length)return s.forEach((e=>{e[0]>r&&a.addPoint(e,!1,a.xData.length>=30)})),t.options.plotOptions.column.colors=n,t.redraw(),!1}return e.blockTimes[e.blockTimes.length-1][0]!==this.props.blockTimes[this.props.blockTimes.length-1][0]||e.blockTimes.length!==this.props.blockTimes.length}_getData(){let{blockTimes:e,head_block:t}=this.props;var s,n,a,r;e.filter((e=>e[0]>=t-30)),e&&e.length&&(n=30,e=(r=null==(s=e)?0:s.length)?(n=r-(n=a||void 0===n?1:(0,ne.Z)(n)),(0,se.Z)(s,n<0?0:n,r)):[]);let l=e.map((e=>e[1]<=5?"#50D2C2":e[1]<=10?"#A0D3E8":e[1]<=20?"#FCAB53":"#deb869"));return{blockTimes:e,colors:l}}render(){let{blockTimes:e,colors:t}=this._getData(this.props),s=r().translate("explorer.blocks.block_time"),a={chart:{type:"column",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return s+": "+this.y+"s"}},series:[{name:"Block time",data:e,color:"#50D2C2"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:3,colorByPoint:!0,colors:t,borderWidth:0}}};return e.length?n.createElement(Q(),{ref:"chart",config:a}):null}}const re=ae;var le=s(95891),oe=s.n(le),ie=s(35021);s(81705);class ce extends n.Component{shouldComponentUpdate(e){return e.blockTime!==this.props.blockTime}render(){let{blockTime:e}=this.props,t=(new Date).getTime()-new Date(e).getTime(),s=f()("txtlabel",{success:t<=6e3},{info:t>6e3&&t<=15e3},{warning:t>15e3&&t<=25e3},{error:t>25e3});return e?n.createElement("h3",{className:s},n.createElement(h.Z,{time:e})):null}}class me extends n.Component{static propTypes={globalObject:i.Z.ChainObject.isRequired,dynGlobalObject:i.Z.ChainObject.isRequired};static defaultProps={globalObject:"2.0.0",dynGlobalObject:"2.1.0",latestBlocks:{},assets:{},accounts:{},height:1};constructor(e){super(e),this.state={animateEnter:!1,operationsHeight:null,blocksHeight:null},this._updateHeight=this._updateHeight.bind(this)}_getBlock(e,t){e&&(e=parseInt(e,10),$.Z.getLatest(e,t))}UNSAFE_componentWillMount(){window.addEventListener("resize",this._updateHeight,{capture:!1,passive:!0})}componentWillUnmount(){window.removeEventListener("resize",this._updateHeight)}UNSAFE_componentWillReceiveProps(e){if(0===e.latestBlocks.size)return this._getInitialBlocks();this.state.animateEnter||this.setState({animateEnter:!0});let t=e.dynGlobalObject.get("head_block_number");return e.latestBlocks.size>=20&&e.dynGlobalObject.get("head_block_number")!==e.latestBlocks.get(0).id?this._getBlock(t,t):void 0}componentDidMount(){this._getInitialBlocks();let e=this.refs.operations;oe().initialize(e);let t=this.refs.blocks;oe().initialize(t),this._updateHeight()}shouldComponentUpdate(e,t){return!o().is(e.latestBlocks,this.props.latestBlocks)||!x.Z.are_equal_shallow(t,this.state)}componentDidUpdate(){this._updateHeight()}_getInitialBlocks(){let e=parseInt(this.props.dynGlobalObject.get("head_block_number"),10);if(e)for(let t=19;t>=0;t--){let s=!1;if(this.props.latestBlocks.size>0)for(let n=0;n<this.props.latestBlocks.size;n++)if(this.props.latestBlocks.get(n).id===e-t){s=!0;break}s||this._getBlock(e-t,e)}}_updateHeight(){let e=this.refs.outerWrapper.offsetHeight,t=this.refs.operationsText.offsetHeight,s=this.refs.blocksText.offsetHeight;this.setState({operationsHeight:e-t,blocksHeight:e-s},this.psUpdate)}psUpdate(){let e=this.refs.operations;oe().update(e);let t=this.refs.blocks;oe().update(t)}render(){let{latestBlocks:e,latestTransactions:t,globalObject:s,dynGlobalObject:a,coreAsset:r}=this.props,{blocksHeight:l,operationsHeight:o}=this.state;const i=this.props.getDynamicObject(r.get("dynamic_asset_data_id"));let c=null,m=null,p=null,h=0,g=e.size,b=0,E=[],k=0;if(e&&e.size>=20){let s,r,l;e.filter(((e,t)=>e.id===a.get("head_block_number")-t)).sort(((e,t)=>e.id-t.id)).forEach(((e,t)=>{h+=e.transactions.length,t>0?(E.push([e.id,(e.timestamp-s)/1e3]),r=e.timestamp):l=e.timestamp,s=e.timestamp})),c=e.sort(((e,t)=>t.id-e.id)).take(20).map((e=>n.createElement("tr",{key:e.id},n.createElement("td",null,n.createElement(q.rU,{to:`/block/${e.id}`},"#",x.Z.format_number(e.id,0))),n.createElement("td",null,n.createElement(G.Ji,{value:e.timestamp,format:"time"})),n.createElement("td",null,n.createElement(J.Z,{witness:e.witness})),n.createElement("td",null,x.Z.format_number(e.transactions.length,0))))).toArray();let o=0;m=t.sort(((e,t)=>t.block_num-e.block_num)).take(20).map((e=>{let t=0;return e.operations.map((s=>o>15?null:n.createElement(K.Z,{key:o++,op:s,result:e.operation_results[t++],block:e.block_num,hideFee:!0,hideOpLabel:!1,current:"1.2.0",hideDate:!0,hidePending:!0}))).filter((e=>!!e))})).toArray(),p=e.first().timestamp,k=E.reduce(((e,t,s,n)=>e+t[1]/n.length),0),b=h/((r-l)/1e3)}return n.createElement("div",{ref:"outerWrapper",className:"grid-block vertical"},n.createElement("div",{className:"align-center grid-block shrink small-horizontal blocks-row"},n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.current_block"})),n.createElement("h2",null,"#",x.Z.format_number(a.get("head_block_number"),0)))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.last_block"})),n.createElement(ce,{blockTime:p}))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.trx_per_sec"})),n.createElement("h2",null,x.Z.format_number(b,2)))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.avg_conf_time"})),n.createElement("h2",null,x.Z.format_number(k/2,2),"s")))),n.createElement("div",{className:"align-center grid-block shrink small-horizontal  blocks-row"},n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.active_witnesses"})),n.createElement("h2",{className:"txtlabel success"},s.get("active_witnesses").size))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.active_committee_members"})),n.createElement("h2",{className:"txtlabel success"},s.get("active_committee_members").size))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.trx_per_block"})),n.createElement("h2",null,x.Z.format_number(h/g||0,2)))),n.createElement("div",{className:"grid-block text-center small-6 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.recently_missed_blocks"})),n.createElement("h2",{className:"txtlabel warning",style:{fontWeight:"100"}},a.get("recently_missed_count"))))),n.createElement("div",{className:"align-center grid-block shrink small-vertical medium-horizontal blocks-row"},n.createElement("div",{className:"grid-block text-center small-12 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.asset.summary.current_supply"})),n.createElement("h3",{className:"txtlabel"},i?n.createElement(d.Z,{amount:i.get("current_supply"),asset:r.get("id"),decimalOffset:5}):null))),n.createElement("div",{className:"grid-block text-center small-12 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("div",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.block_times"})),n.createElement(re,{blockTimes:E,head_block_number:a.get("head_block_number")}))),n.createElement("div",{className:"grid-block text-center small-12 medium-3"},n.createElement("div",{className:"grid-content no-overflow"},n.createElement("div",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.blocks.trx_per_block"})),n.createElement(te,{blocks:e,head_block:a.get("head_block_number")}))),n.createElement("div",{className:"grid-block text-center small-12 medium-3"},n.createElement("div",{className:"grid-content no-overflow clear-fix"},n.createElement("span",{className:"txtlabel"},n.createElement(u(),{component:"span",content:"explorer.asset.summary.stealth_supply"})),n.createElement("h3",{className:"txtlabel"},i?n.createElement(d.Z,{amount:i.get("confidential_supply"),asset:r.get("id"),decimalOffset:5}):null)))),n.createElement("div",{ref:"transactionsBlock",className:"grid-block no-overflow"},n.createElement("div",{className:"grid-block small-12 medium-6 vertical no-overflow",style:{paddingBottom:0}},n.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},n.createElement("div",{ref:"operationsText"},n.createElement("div",{className:"block-content-header"},n.createElement(u(),{content:"account.recent"})),n.createElement("table",{className:"table fixed-height-2rem"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,n.createElement(u(),{content:"account.votes.info"})))))),n.createElement("div",{className:"grid-block",style:{maxHeight:o||"400px",overflow:"hidden"},ref:"operations"},n.createElement("table",{className:"table fixed-height-2rem"},n.createElement("tbody",null,m))))),n.createElement("div",{className:"grid-block medium-6 show-for-medium vertical no-overflow",style:{paddingBottom:0,paddingLeft:5}},n.createElement("div",{className:"grid-block vertical no-overflow generic-bordered-box"},n.createElement("div",{ref:"blocksText"},n.createElement("div",{className:"block-content-header"},n.createElement(u(),{component:"span",content:"explorer.blocks.recent"}))),n.createElement("div",{className:"grid-block vertical",style:{maxHeight:l||"438px",overflow:"hidden"},ref:"blocks"},n.createElement("table",{className:"table fixed-height-2rem"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,n.createElement(u(),{component:"span",content:"explorer.block.id"})),n.createElement("th",null,n.createElement(u(),{component:"span",content:"explorer.block.date"})),n.createElement("th",null,n.createElement(u(),{component:"span",content:"explorer.block.witness"})),n.createElement("th",null,n.createElement(u(),{component:"span",content:"explorer.block.count"})))),n.createElement(ie.Z,{component:"tbody",transitionName:"newrow"},c)))))))}}me=(0,c.Z)(me,{show_loader:!0});const de=me=(0,X.Z)(me,{propNames:["coreAsset"],withDynamic:!0});class pe extends n.Component{render(){return n.createElement(I.Z,{stores:[V.Z],inject:{latestBlocks:()=>V.Z.getState().latestBlocks,latestTransactions:()=>V.Z.getState().latestTransactions}},n.createElement(de,null))}}const ue=pe;var he=s(89233),ge=s(45697),be=s.n(ge),Ee=s(7453),ke=s(3841),fe=s(7581),ve=s(99349),ye=s(19602),_e=s(55420),xe=s(38272);let we=(0,ye.ZP)("__graphene__");class Ce extends n.Component{constructor(e){super();let t=_e.Apis.instance().chain_id;t=t?t.substr(0,8):"4018d784",this.state={chainID:t,foundLast:!1,lastAsset:"",isLoading:!1,totalAssets:"object"!=typeof we.get(`totalAssets_${t}`)?we.get(`totalAssets_${t}`):t&&"4018d784"===t?3e3:50,assetsFetched:0,activeFilter:"market",filterSearch:e.filterSearch||"",rowsOnPage:"25"},this._toggleFilter=this._toggleFilter.bind(this),this.handleRowsChange=this.handleRowsChange.bind(this),this.handleFilterChange=this.handleFilterChange.bind(this)}shouldComponentUpdate(e,t){return!o().is(e.assets,this.props.assets)||!x.Z.are_equal_shallow(t,this.state)}UNSAFE_componentWillMount(){this._checkAssets(this.props.assets,!0)}handleFilterChange(e){this.setState({filterSearch:(e.target.value||"").toUpperCase()})}handleRowsChange(e){this.setState({rowsOnPage:e})}_checkAssets(e,t){this.setState({isLoading:!0});let s=e.sort(((e,t)=>e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0)).last();0===e.size||t?(Ee.Z.getAssetList.defer("A",100),this.setState({assetsFetched:100})):e.size>=this.state.assetsFetched&&(Ee.Z.getAssetList.defer(s.symbol,100),this.setState({assetsFetched:this.state.assetsFetched+99})),e.size>this.state.totalAssets&&we.set(`totalAssets_${this.state.chainID}`,e.size),this.state.assetsFetched>=this.state.totalAssets-100&&this.setState({isLoading:!1})}UNSAFE_componentWillReceiveProps(e){e.assets!==this.props.assets&&this._checkAssets(e.assets)}linkToAccount(e){return e?n.createElement(ke.Z,{account:e}):n.createElement("span",null,"-")}_toggleFilter(e){this.setState({activeFilter:e.target.value})}_onFilter(e,t){this.setState({[e]:t.target.value.toUpperCase()}),b.Z.changeViewSetting({[e]:t.target.value.toUpperCase()})}render(){let e,{assets:t}=this.props,{activeFilter:s}=this.state,a=(r().translate("markets.filter").toUpperCase(),m.ChainStore.getAsset("1.3.0")),l=[],o=[];return"user"==s&&(o=[{key:"symbol",title:"symbol",dataIndex:"symbol",defaultSortOrder:"ascend",sorter:(e,t)=>e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0,render:e=>n.createElement(q.rU,{to:`/asset/${e}`},n.createElement(ve.Z,{name:e}))},{key:"issuer",title:"issuer",dataIndex:"issuer",sorter:(e,t)=>{let s=m.ChainStore.getAccount(e.issuer,!1),n=m.ChainStore.getAccount(t.issuer,!1);return s&&(s=s.get("name")),n&&(n=n.get("name")),s>n?1:s<n?-1:0},render:e=>this.linkToAccount(e)},{key:"currentSupply",title:"Supply",dataIndex:"currentSupply",sorter:(e,t)=>(e.currentSupply=parseFloat(e.currentSupply),t.currentSupply=parseFloat(t.currentSupply),e.currentSupply>t.currentSupply?1:e.currentSupply<t.currentSupply?-1:0),render:(e,t)=>n.createElement(d.Z,{amount:t.currentSupply,asset:t.assetId,hide_asset:!0})},{key:"marketId",title:"",dataIndex:"marketId",render:e=>n.createElement(q.rU,{to:`/market/${e}`},n.createElement(y.Icon,{type:"line-chart"})," ",n.createElement(u(),{content:"header.exchange"}))}],t.filter((e=>!e.market_asset&&-1!==e.symbol.indexOf(this.state.filterSearch))).map((e=>{let t=fe.Z.parseDescription(e.options.description),s=e.symbol+"_"+(t.market?t.market:a?a.get("symbol"):"BTS");l.push({symbol:e.symbol,issuer:e.issuer,currentSupply:e.dynamic.current_supply,assetId:e.id,marketId:s})}))),"market"==s&&(o=[{key:"symbol",title:"symbol",dataIndex:"symbol",defaultSortOrder:"ascend",sorter:(e,t)=>e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0,render:e=>n.createElement(q.rU,{to:`/asset/${e}`},n.createElement(ve.Z,{name:e}))},{key:"issuer",title:"issuer",dataIndex:"issuer",sorter:(e,t)=>{let s=m.ChainStore.getAccount(e.issuer,!1),n=m.ChainStore.getAccount(t.issuer,!1);return s&&(s=s.get("name")),n&&(n=n.get("name")),s>n?1:s<n?-1:0},render:e=>this.linkToAccount(e)},{key:"currentSupply",title:"Supply",dataIndex:"currentSupply",sorter:(e,t)=>(e.currentSupply=parseFloat(e.currentSupply),t.currentSupply=parseFloat(t.currentSupply),e.currentSupply>t.currentSupply?1:e.currentSupply<t.currentSupply?-1:0),render:(e,t)=>n.createElement(d.Z,{amount:t.currentSupply,asset:t.assetId,hide_asset:!0})},{key:"marketId",title:"",dataIndex:"marketId",render:e=>n.createElement(q.rU,{to:`/market/${e}`},n.createElement(y.Icon,{type:"line-chart"})," ",n.createElement(u(),{content:"header.exchange"}))}],t.filter((e=>e.bitasset_data&&!e.bitasset_data.is_prediction_market&&-1!==e.symbol.indexOf(this.state.filterSearch))).map((e=>{let t=fe.Z.parseDescription(e.options.description),s=e.symbol+"_"+(t.market?t.market:a?a.get("symbol"):"BTS");l.push({symbol:e.symbol,issuer:e.issuer,currentSupply:e.dynamic.current_supply,assetId:e.id,marketId:s})}))),"prediction"==s&&(e=t.filter((e=>{let t=fe.Z.parseDescription(e.options.description);return e.bitasset_data&&e.bitasset_data.is_prediction_market&&(-1!==e.symbol.toLowerCase().indexOf(this.state.filterSearch.toLowerCase())||-1!==t.main.toLowerCase().indexOf(this.state.filterSearch.toLowerCase()))})).sort(((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0)).map((e=>{let t=fe.Z.parseDescription(e.options.description);return{asset:e,description:t,marketID:e.symbol+"_"+(t.market?t.market:a?a.get("symbol"):"BTS")}})).toArray()),n.createElement("div",{className:"grid-block vertical"},n.createElement("div",{className:"grid-block vertical"},n.createElement("div",{className:"grid-block main-content small-12 medium-10 medium-offset-1 main-content vertical"},n.createElement("div",{className:"generic-bordered-box"},n.createElement("div",{style:{textAlign:"left",marginBottom:"24px"}},n.createElement("span",{style:{display:"inline-block",width:"0px",marginTop:"2px",float:"left",fontSize:"18px"}},this.state.isLoading?n.createElement(y.Icon,{type:"loading"}):null),n.createElement(_.Z,{value:this.state.filterSearch,style:{width:"200px"},onChange:this.handleFilterChange}),n.createElement(y.Radio.Group,{value:this.state.activeFilter,onChange:this._toggleFilter,style:{marginBottom:"7px",marginLeft:"24px"}},n.createElement(y.Radio,{value:"market"},n.createElement(u(),{content:"explorer.assets.market"})),n.createElement(y.Radio,{value:"user"},n.createElement(u(),{content:"explorer.assets.user"})),n.createElement(y.Radio,{value:"prediction"},n.createElement(u(),{content:"explorer.assets.prediction"}))),n.createElement(y.Select,{style:{width:"150px",marginLeft:"24px"},value:this.state.rowsOnPage,onChange:this.handleRowsChange},n.createElement(y.Select.Option,{key:"10"},"10 rows"),n.createElement(y.Select.Option,{key:"25"},"25 rows"),n.createElement(y.Select.Option,{key:"50"},"50 rows"),n.createElement(y.Select.Option,{key:"100"},"100 rows"),n.createElement(y.Select.Option,{key:"200"},"200 rows"))),"prediction"==s?n.createElement(xe.Z,{style:{paddingBottom:20},size:"large",itemLayout:"horizontal",dataSource:e,renderItem:e=>n.createElement(xe.Z.Item,{key:e.asset.id.split(".")[2],actions:[n.createElement(q.rU,{className:"button outline",to:`/market/${e.marketID}`},n.createElement(u(),{content:"header.exchange"}))]},n.createElement(xe.Z.Item.Meta,{title:n.createElement("div",null,n.createElement("span",{style:{paddingTop:10,fontWeight:"bold"}},n.createElement(q.rU,{to:`/asset/${e.asset.symbol}`},n.createElement(ve.Z,{name:e.asset.symbol}))),e.description.condition?n.createElement("span",null," ","(",e.description.condition,")"):null),description:n.createElement("span",null,e.description?n.createElement("div",{style:{padding:"10px 20px 5px 0",lineHeight:"18px"}},e.description.main):null,n.createElement("span",{style:{padding:"0 20px 5px 0",lineHeight:"18px"}},n.createElement(ke.Z,{account:e.asset.issuer}),n.createElement("span",null," ","-"," ",n.createElement(d.Z,{amount:e.asset.dynamic.current_supply,asset:e.asset.id})),e.description.expiry?n.createElement("span",null," ","-"," ",e.description.expiry):null))})),pagination:{position:"bottom",pageSize:6}}):n.createElement(y.Table,{style:{width:"100%",marginTop:"16px"},rowKey:"symbol",columns:o,dataSource:l})))))}}Ce.defaultProps={assets:{}},Ce.propTypes={assets:be().object.isRequired};const Se=Ce;class Ze extends n.Component{render(){return n.createElement(I.Z,{stores:[he.Z,E.Z],inject:{assets:()=>he.Z.getState().assets,filterMPA:()=>E.Z.getState().viewSettings.get("filterMPA"),filterUIA:()=>E.Z.getState().viewSettings.get("filterUIA")}},n.createElement(Se,null))}}const Ne=Ze;var Oe=s(32793),Ae=s(99111),Be=s(82050),Te=s(91684),Ie=s(44015),je=s(52531);class De extends n.Component{constructor(e){super(),this.state={searchTerm:e.searchTerm,isLoading:!1,rowsOnPage:"25"},this._searchAccounts=(0,Ae.Z)(this._searchAccounts,200),this.handleRowsChange=this.handleRowsChange.bind(this),this.balanceObjects=[]}shouldComponentUpdate(e,t){return!o().is(e.searchAccounts,this.props.searchAccounts)||t.searchTerm!==this.state.searchTerm||t.isLoading!==this.state.isLoading}_onSearchChange(e){this.setState({searchTerm:e.target.value.toLowerCase(),isLoading:!0}),this._searchAccounts(e.target.value)}_searchAccounts(e){Be.Z.accountSearch(e),this.setState({isLoading:!1})}_onAddContact(e,t){t.preventDefault(),Be.Z.addAccountContact(e),this.forceUpdate()}_onRemoveContact(e,t){t.preventDefault(),Be.Z.removeAccountContact(e),this.forceUpdate()}handleRowsChange(e){this.setState({rowsOnPage:e}),this.forceUpdate()}_ensureBalanceObject(e){e&&"string"==typeof e&&(this.balanceObjects[e]||(this.balanceObjects[e]=parseFloat(m.ChainStore.getObject(e).get("balance")))),this.balanceObjects[e]||(this.balanceObjects[e]=0)}render(){let{searchAccounts:e}=this.props,{searchTerm:t}=this.state,s=[],a=[];return a=[{title:n.createElement(u(),{component:"span",content:"explorer.assets.id"}),dataIndex:"accountId",key:"accountId",defaultSortOrder:"ascend",sorter:(e,t)=>e.accountId>t.accountId?1:e.accountId<t.accountId?-1:0,render:e=>n.createElement("div",null,e)},{title:n.createElement(Te.Z,{name:"user",title:"icons.user.account"}),dataIndex:"accountContacts",key:"accountContacts",render:(e,t)=>e.has(t.accountName)?n.createElement("div",{onClick:this._onRemoveContact.bind(this,t.accountName)},n.createElement(Te.Z,{name:"minus-circle",title:"icons.minus_circle.remove_contact"})):n.createElement("div",{onClick:this._onAddContact.bind(this,t.accountName)},n.createElement(Te.Z,{name:"plus-circle",title:"icons.plus_circle.add_contact"}))},{title:n.createElement(u(),{component:"span",content:"account.name"}),dataIndex:"accountName",key:"accountName",sorter:(e,t)=>e.accountName>t.accountName?1:e.accountName<t.accountName?-1:0,render:e=>n.createElement("div",null,n.createElement(q.rU,{to:`/account/${e}/overview`},e))},{title:n.createElement(u(),{component:"span",content:"gateway.balance"}),dataIndex:"accountBalance",key:"accountBalance",sorter:(e,t)=>(this._ensureBalanceObject(e.accountBalance),this._ensureBalanceObject(t.accountBalance),this.balanceObjects[e.accountBalance]>this.balanceObjects[t.accountBalance]?1:this.balanceObjects[e.accountBalance]<this.balanceObjects[t.accountBalance]?-1:0),render:e=>n.createElement("div",null,e?n.createElement(Ie.Z,{balance:e}):"n/a")},{title:n.createElement(u(),{component:"span",content:"account.percent"}),dataIndex:"accountBalance",key:"accountBalancePercentage",sorter:(e,t)=>(this._ensureBalanceObject(e.accountBalance),this._ensureBalanceObject(t.accountBalance),this.balanceObjects[e.accountBalance]>this.balanceObjects[t.accountBalance]?1:this.balanceObjects[e.accountBalance]<this.balanceObjects[t.accountBalance]?-1:0),render:e=>n.createElement("div",null,e?n.createElement(Ie.Z,{balance:e,asPercentage:!0}):"n/a")}],e.size>0&&t&&t.length>0&&e.filter((e=>-1!==e.indexOf(t))).sort(((e,t)=>e>t?1:e<t?-1:0)).map(((e,t)=>{let n=m.ChainStore.getAccount(t.toLowerCase()),a=n&&n.getIn(["balances","1.3.0"])||null;s.push({accountId:t,accountContacts:Oe.Z.getState().accountContacts,accountName:e,accountBalance:a})})),n.createElement("div",{className:"grid-block vertical"},n.createElement("div",{className:"grid-block vertical"},n.createElement("div",{className:"grid-block main-content small-12 medium-10 medium-offset-1 main-content vertical"},n.createElement("div",{className:"generic-bordered-box"},n.createElement("div",{style:{textAlign:"left",marginBottom:"24px"}},n.createElement(_.Z,{placeholder:"Search",value:this.state.searchTerm,style:{width:"200px"},onChange:this._onSearchChange.bind(this)}),n.createElement(y.Select,{style:{width:"150px",marginLeft:"24px"},value:this.state.rowsOnPage,onChange:this.handleRowsChange},n.createElement(y.Select.Option,{key:"10"},"10 rows"),n.createElement(y.Select.Option,{key:"25"},"25 rows"),n.createElement(y.Select.Option,{key:"50"},"50 rows"),n.createElement(y.Select.Option,{key:"100"},"100 rows"),n.createElement(y.Select.Option,{key:"200"},"200 rows")),n.createElement("div",{style:{display:"inline-block",marginLeft:"24px"}},this.state.searchTerm&&0==this.state.searchTerm.length?n.createElement(u(),{content:"account.start_typing_to_search"}):null)),n.createElement(y.Table,{style:{width:"100%",marginTop:"16px"},rowKey:"accountId",columns:a,dataSource:s,pagination:{position:"bottom",pageSize:Number(this.state.rowsOnPage)}}),this.state.isLoading?n.createElement("div",{style:{textAlign:"center",padding:10}},n.createElement(je.Z,{type:"three-bounce"})):null))))}}De.defaultProps={searchAccounts:{}},De.propTypes={searchAccounts:be().object.isRequired};const Le=De;class Pe extends n.Component{render(){return n.createElement(I.Z,{stores:[Oe.Z],inject:{searchAccounts:()=>Oe.Z.getState().searchAccounts,searchTerm:()=>Oe.Z.getState().searchTerm}},n.createElement(Le,null))}}const Ue=Pe;var Fe=s(12326),Me=s(67663);class Re extends n.Component{constructor(){super(),this.state={height:null},this._setDimensions=this._setDimensions.bind(this)}UNSAFE_componentWillMount(){window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}componentDidMount(){this._setDimensions()}componentWillUnmount(){window.removeEventListener("resize",this._setDimensions)}_setDimensions(){let e=this.refs.wrapper.offsetHeight;e!==this.state.height&&this.setState({height:e})}render(){return n.createElement("div",{ref:"wrapper",className:"grid-block no-overflow"},n.createElement(Me.Z,{style:{width:"100%",padding:20},listHeight:this.state.height?this.state.height:null,className:"no-overflow",headerStyle:{paddingTop:0,borderTop:"none"},tabHeader:!0,columns:[{name:"star",index:1},{name:"market",index:2},{name:"quoteSupply",index:3},{name:"vol",index:4},{name:"price",index:5},{name:"change",index:6}]}))}}const ze=Re;class We extends n.Component{render(){return n.createElement(I.Z,{stores:[E.Z,he.Z,Fe.Z],inject:{starredMarkets:()=>E.Z.getState().starredMarkets,viewSettings:()=>E.Z.getState().viewSettings,lookupResults:()=>he.Z.getState().lookupResults,marketBase:()=>Fe.Z.getState().marketBase}},n.createElement(ze,null))}}const He=We;class Ve extends n.Component{constructor(e){super(e),this.state={tabs:[{name:"blocks",link:"/explorer/blocks",translate:"explorer.blocks.title",content:ue},{name:"assets",link:"/explorer/assets",translate:"explorer.assets.title",content:Ne},{name:"accounts",link:"/explorer/accounts",translate:"explorer.accounts.title",content:Ue},{name:"witnesses",link:"/explorer/witnesses",translate:"explorer.witnesses.title",content:N},{name:"committee_members",link:"/explorer/committee-members",translate:"explorer.committee_members.title",content:T},{name:"markets",link:"/explorer/markets",translate:"markets.title",content:He},{name:"fees",link:"/explorer/fees",translate:"fees.title",content:H}]}}render(){return n.createElement(y.Tabs,{activeKey:this.props.location.pathname,animated:!1,style:{display:"table",height:"100%",width:"100%"},onChange:e=>{this.props.history.push(e)}},this.state.tabs.map((e=>{const t=e.content;return n.createElement(y.Tabs.TabPane,{key:e.link,tab:r().translate(e.translate)},n.createElement("div",{className:"padding"},n.createElement(t,null)))})))}}const qe=Ve},41220:(e,t,s)=>{s.d(t,{il:()=>w,GH:()=>S,iX:()=>C,HZ:()=>_});var n=s(67294),a=s(21019),r=s(23037),l=s(82267),o=s(52521),i=s(13973),c=s(89449),m=s(12326),d=s(58074),p=s.n(d),u=s(112),h=s.n(u),g=s(24265),b=s(5833),E=s(76660),k=s(45697),f=s.n(k),v=s(30806);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},y.apply(this,arguments)}const _=function(e,t,s,n=null,a=null,r=null){try{return b.Z.convertValue(e,t,s,r||m.Z.getState().allMarketStats,a||v.ChainStore.getAsset("1.3.0"),n||!0)}catch(e){console.log(e)}};class x extends g.Z{static defaultProps={fullPrecision:!0,noDecimals:!1,fullDecimals:!1,hide_asset:!1};constructor(e){super(e)}shouldComponentUpdate(e){return super.shouldComponentUpdate(e)||!i.Z.are_equal_shallow(e.pulsate,this.props.pulsate)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}render(){let{amount:e,toAsset:t,fromAsset:s,fullPrecision:r,coreAsset:l,...o}=this.props,i=t.get("id"),c=t.get("symbol"),m=_(e,t,s,r,l);return m||0===m?n.createElement(a.Z,y({noPrefix:!0,amount:m,asset:i,decimalOffset:-1!==c.indexOf("BTC")?4:this.props.fullDecimals?0:this.props.noDecimals?t.get("precision"):t.get("precision")-2},o)):n.createElement(E.Tooltip,{placement:"bottom",title:h().translate("tooltip.no_price")},n.createElement("div",{className:"tooltip inline-block",style:{fontSize:"0.9rem"}},n.createElement(p(),{content:"account.no_price"})))}}x=(0,o.Z)(x,{propNames:["toAsset","fromAsset","coreAsset"],defaultProps:{toAsset:"1.3.0",coreAsset:"1.3.0"}});class w extends n.Component{render(){let{refCallback:e,...t}=this.props;return n.createElement(x,y({},t,{ref:e}))}}w=(0,c.$)(w,{listenTo:()=>[m.Z],getProps:()=>({allMarketStats:m.Z.getState().allMarketStats})});const C=function(e){const t=e.getIn(["balance","amount"]);return t||0===t?{asset_id:e.getIn(["balance","asset_id"]),amount:Number(e.getIn(["balance","amount"]))}:{asset_id:e.get("asset_type"),amount:Number(e.get("balance"))}};class S extends n.Component{static propTypes={balance:r.Z.ChainObject.isRequired,satoshis:f().number};static defaultProps={satoshis:null};render(){const{balance:e,...t}=this.props,s=C(e);let a=s.amount;this.props.satoshis&&(a=this.props.satoshis);let r=s.asset_id;return isNaN(a)?n.createElement("span",null,"--"):n.createElement(w,y({amount:a,fromAsset:r,noDecimals:!0,fullPrecision:!this.props.satoshis&&this.props.fullPrecision},t))}}S=(0,l.Z)(S,{keep_updating:!0})},57906:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(67294),a=s(13973),r=s(45697),l=s.n(r);class o extends n.Component{static propTypes={scroll_length:l().number};static defaultProps={scroll_length:9};constructor(e){e.scroll_length,super(e),this.state={active:!1},this.listener=!1,this.onBodyClick=this.onBodyClick.bind(this)}componentDidMount(){this._setListener()}shouldComponentUpdate(e,t){return!a.Z.are_equal_shallow(e.entries,this.props.entries)||!a.Z.are_equal_shallow(t,this.state)||e.value!==this.props.value}_setListener(e=this.props){e.entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener("click",this.onBodyClick,{capture:!1,passive:!0}))}_removeListener(){document.body.removeEventListener("click",this.onBodyClick),this.listener=!1}UNSAFE_componentWillReceiveProps(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}componentWillUnmount(){this._removeListener()}onBodyClick(e){let t=e.target,s=!1;do{if(t.classList&&t.classList.contains("dropdown")&&t.id===this.props.id){s=!0;break}}while(t=t.parentNode);s?e.stopPropagation():this.setState({active:!1})}onChange(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}_toggleDropdown(){this.setState({active:!this.state.active})}render(){const{entries:e,value:t}=this.props;let{active:s}=this.state;if(0===e.length)return null;if(1==e.length)return n.createElement("div",{className:"dropdown-wrapper inactive"+(this.props.upperCase?" upper-case":"")},n.createElement("div",null,this.props.singleEntry?this.props.singleEntry:e[0]));{let a=e.map((e=>n.createElement("li",{className:this.props.upperCase?"upper-case":"",key:e,onClick:this.onChange.bind(this,this.props.values[e])},n.createElement("span",null,e))));return n.createElement("div",{onClick:this._toggleDropdown.bind(this),className:"dropdown-wrapper"+(s?" active":"")+(this.props.upperCase?" upper-case":"")},n.createElement("div",{style:{paddingRight:15}},t||n.createElement("span",{className:"hidden"},"A")),n.createElement("ul",{className:"dropdown",style:{overflow:e.length>this.props.scroll_length?"auto":"hidden"}},a))}}}const i=o},19305:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(67294),a=s(23037),r=s(82267),l=s(3841);class o extends n.Component{static propTypes={witness:a.Z.ChainObject.isRequired};render(){let e=this.props.witness.get("witness_account");return n.createElement(l.Z,{account:e})}}const i=o=(0,r.Z)(o)},88464:(e,t,s)=>{s.r(t)}}]);